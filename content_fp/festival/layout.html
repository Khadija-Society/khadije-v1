{%extends display.cpMain%}


{%block ititle %}
<label for="title">{%trans "Title"%} <small class="fc-red">* {%trans "Require"%}</small></label>
<div class="input">
  <input type="text" name="title" id="title" placeholder='{%trans "Title of festival"%} *' value="{{dataRow.title}}" autofocus required maxlength='200' minlength="1" pattern=".{1,200}" title='{%trans "Enter a valid title"%}'>
</div>
{% endblock %}


{%block isubtitle %}
<label for="subtitle">{%trans "Subtitle"%}</label>
<div class="input">
  <input type="text" name="subtitle" id="subtitle" placeholder='{%trans "subTitle of festival"%} *' value="{{dataRow.subtitle}}"  maxlength='200' minlength="1" pattern=".{1,200}" title='{%trans "Enter a valid subtitle"%}'>
</div>
{% endblock %}


{%block islug %}
<label for="slug">{%trans "Slug"%} <small class="fc-red">* {%trans "Require"%}</small></label>
<div class="input">
  <input type="text" name="slug" id="slug" placeholder='{%trans "Slug of festival"%} *' value="{{dataRow.slug}}" required  maxlength='200' minlength="1" pattern=".{1,200}" title='{%trans "Enter a valid slug"%}'>
</div>
{% endblock %}

{%block idesc%}
<textarea class="txt mB10" data-editor name="desc" placeholder='{%trans "Write description of festival"%}' rows="15">{{dataRow.desc}}</textarea>
{%endblock%}


{%block iintro%}
<textarea class="txt mB10" data-editor name="intro" placeholder='{%trans "Write intro of festival"%}' rows="15">{{dataRow.intro}}</textarea>
{%endblock%}


{%block iabout%}
<textarea class="txt mB10" data-editor name="about" placeholder='{%trans "Write about of festival"%}' rows="15">{{dataRow.about}}</textarea>
{%endblock%}


{%block itarget%}
<textarea class="txt mB10" data-editor name="target" placeholder='{%trans "Write target of festival"%}' rows="15">{{dataRow.target}}</textarea>
{%endblock%}



{%block iaxis%}
<textarea class="txt mB10" data-editor name="axis" placeholder='{%trans "Write axis of festival"%}' rows="15">{{dataRow.axis}}</textarea>
{%endblock%}


{%block iview%}
<textarea class="txt mB10" data-editor name="view" placeholder='{%trans "Write view of festival"%}' rows="15">{{dataRow.view}}</textarea>
{%endblock%}


{%block ischedule%}
<textarea class="txt mB10" data-editor name="schedule" placeholder='{%trans "Write schedule of festival"%}' rows="15">{{dataRow.schedule}}</textarea>
{%endblock%}


{%block iplace%}
<textarea class="txt mB10" data-editor name="place" placeholder='{%trans "Write place of festival"%}' rows="15">{{dataRow.place}}</textarea>
{%endblock%}

{%block iaward%}
<textarea class="txt mB10" data-editor name="award" placeholder='{%trans "Write award of festival"%}' rows="15">{{dataRow.award}}</textarea>
{%endblock%}


{%block iphone%}
<textarea class="txt mB10" data-editor name="phone" placeholder='{%trans "Write phone of festival"%}' rows="15">{{dataRow.phone}}</textarea>
{%endblock%}


{%block iaddress%}
<textarea class="txt mB10" data-editor name="address" placeholder='{%trans "Write address of festival"%}' rows="15">{{dataRow.address}}</textarea>
{%endblock%}

{%block iemail %}
<label for="email">{%trans "Email"%}</label>
<div class="input">
  <input type="email" name="email" id="email" placeholder='{%trans "email of festival"%} *' value="{{dataRow.email}}"  maxlength='200' minlength="1" pattern=".{1,200}" title='{%trans "Enter a valid email"%}'>
</div>
{% endblock %}


{%block isms %}
<label for="sms">{%trans "SMS Service number"%}</label>
<div class="input">
  <input type="number" name="sms" id="sms" placeholder='{%trans "sms of festival"%} *' value="{{dataRow.sms}}"  maxlength='200' minlength="1" pattern=".{1,200}" title='{%trans "Enter a valid sms"%}'>
</div>
{% endblock %}


{%block itelegram%}
<label for="telegram">{%trans "telegram"%}</label>
<div class="input">
	<input type="text" name="telegram" id="telegram" placeholder='{%trans "telegram of festival"%}' value="{{dataRow.telegram}}" maxlength="200" minlength="1" title='{%trans "Enter a valid telegram"%}'>
</div>
{%endblock%}


{%block ifacebook%}
<label for="facebook">{%trans "facebook"%}</label>
<div class="input">
	<input type="text" name="facebook" id="facebook" placeholder='{%trans "facebook of festival"%}' value="{{dataRow.facebook}}" maxlength="200" minlength="1" title='{%trans "Enter a valid facebook"%}'>
</div>
{%endblock%}


{%block itwitter%}
<label for="twitter">{%trans "twitter"%}</label>
<div class="input">
	<input type="text" name="twitter" id="twitter" placeholder='{%trans "twitter of festival"%}' value="{{dataRow.twitter}}" maxlength="200" minlength="1" title='{%trans "Enter a valid twitter"%}'>
</div>
{%endblock%}


{%block iinstagram%}
<label for="instagram">{%trans "instagram"%}</label>
<div class="input">
	<input type="text" name="instagram" id="instagram" placeholder='{%trans "instagram of festival"%}' value="{{dataRow.instagram}}" maxlength="200" minlength="1" title='{%trans "Enter a valid instagram"%}'>
</div>
{%endblock%}


{%block ilinkedin%}
<label for="linkedin">{%trans "linkedin"%}</label>
<div class="input">
	<input type="text" name="linkedin" id="linkedin" placeholder='{%trans "linkedin of festival"%}' value="{{dataRow.linkedin}}" maxlength="200" minlength="1" title='{%trans "Enter a valid linkedin"%}'>
</div>
{%endblock%}


{%block iwebsite%}
<label for="website">{%trans "website"%}</label>
<div class="input">
	<input type="url" name="website" id="website" placeholder='{%trans "website of festival"%}' value="{{dataRow.website}}" maxlength="200" minlength="1" title='{%trans "Enter a valid website"%}'>
</div>
{%endblock%}




{%block ifreeuser%}
<div class="switch1 mB10">
 <input type="checkbox" name="freeuser" id="freeuser" {%if dataRow.freeuser %}checked{%endif%}>
 <label for="freeuser"></label>
 <label for="freeuser">{%trans "Free user"%} <small>{%trans "Every one can signup in this festival and send her project"%}</small></label>
</div>
{%endblock%}


{%block imessagesms%}
<label for="messagesms">{%trans "messagesms"%}</label>
<div class="input">
	<input type="text" name="messagesms" id="messagesms" placeholder='{%trans "messagesms of festival"%}' value="{{dataRow.messagesms}}" maxlength="200" minlength="1" title='{%trans "Enter a valid messagesms"%}'>
</div>
{%endblock%}


{%block imessage%}
<textarea class="txt mB10" data-editor name="message" placeholder='{%trans "Write message of festival"%}' rows="15">{{dataRow.message}}</textarea>
{%endblock%}


{%block iadd%}
<button class="btn primary block mT20">{%trans "Add"%}</button>
{%endblock%}

{%block isave%}
<button class="btn primary block mT20">{%trans "Save"%}</button>
{%endblock%}


{%block istatus%}

<div class="mT15">
 <label >{%trans "Status"%}</label>

 <div class="radio1 green">
  <input type="radio" id="r-publish" name="status" value="publish" {%if dataRow.status == 'publish' or not dataRow.status %} checked{%endif%}>
  <label for="r-publish">{%trans "Publish"%}</label>
 </div>

 <div class="radio1 black">
  <input type="radio" id="r-draft" name="status" value="draft" {%if dataRow.status == 'draft'%} checked{%endif%} >
  <label for="r-draft">{%trans "Draft"%}</label>
 </div>

 <div class="radio1 red mB25">
  <input type="radio" id="r-deleted" name="status" value="deleted" {%if dataRow.status == 'deleted'  %} checked{%endif%}>
  <label for="r-deleted">{%trans "Deleted"%}</label>
 </div>

</div>
{%endblock%}



{%block pageSteps%}

  <p class="f msg info2 txtC">
    <span class="cauto">{%trans ":Topic Detail"%} <a href="{{url.here}}/lesson?q={{dataRow.code}}" class="txtB" title='{%trans "Code"%}'>{{dataRow.code | fitNumber(false)}}</a></span>
    <span class="c txtB" title='{%trans ":topic"%}'><a href="{{url.here}}/topic/edit?id={{dataRow.topic_id}}">{{dataRow.topictitle}}</a></span>
    <span class="c" title='{%trans ":semester"%}'>
      {%if dataRaw.semestertitle%}
        <a href="{{url.here}}/semester?q={{dataRow.semestertitle}}"><b>{{dataRow.semestertitle}}</b></a>
      {%else%}
      <span class="disabled">{%trans "Whitout :semester"%}</span>
      {%endif%}
    </span>
    <span class="c" title='{%trans ":grade"%}'><a href="{{url.here}}/grade?q={{dataRow.gradename}}"><b>{{dataRow.gradename}}</b></a></span>
    <span class="c" title='{%trans ":course"%}'><a href="{{url.here}}/course?q={{dataRow.coursename}}"><b>{{dataRow.coursename}}</b></a></span>
    <span class="c" title='{%trans ":teacher"%}'><a href="{{url.here}}/member/general?id={{dataRow.teacher}}"><b>{{dataRow.teachername}}</b></a></span>
  </p>

  <div class="f">
   <div class="c s4">
    <a class="dcard {%if url.child == 'glance'%}active{%endif%}" href='{{url.this}}/glance?id={{requestGET.id}}' data-shortkey="53ctrlshift" title='{%trans "check detail of this festival and change status of it"%}'>
     <div class="statistic sm">
      <div class="value"><i class="sf-rocket"></i></div>
      <div class="label">{%trans "Glance"%}<br><kbd class="mT5">Ctrl+Shift+5</kbd></div>
     </div>
    </a>
   </div>
   <div class="c s4">
    <a class="dcard {%if url.child == 'teacher'%}active{%endif%}" href='{{url.this}}/teacher?id={{requestGET.id}}' data-shortkey="49ctrlshift" title='{%trans "assign :teacher to this festival"%}'>
     <div class="statistic sm">
      <div class="value"><i class="sf-user-5"></i></div>
      <div class="label">{%trans ":teacher"%}<br><kbd class="mT5">Ctrl+Shift+1</kbd></div>
     </div>
    </a>
   </div>
   <div class="c s4">
    <a class="dcard {%if url.child == 'general'%}active{%endif%}" href='{{url.this}}/general?id={{requestGET.id}}' data-shortkey="50ctrlshift" title='{%trans "set general setting of this festival"%}'>
     <div class="statistic sm">
      <div class="value"><i class="sf-tools"></i></div>
      <div class="label">{%trans "Settings"%}<br><kbd class="mT5">Ctrl+Shift+2</kbd></div>
     </div>
    </a>
   </div>
   <div class="c s4">
    <a class="dcard {%if url.child == 'classtime'%}active{%endif%}" href='{{url.this}}/classtime?id={{requestGET.id}}' data-shortkey="51ctrlshift" title='{%trans "set class and times of this festival"%}'>
     <div class="statistic sm">
      <div class="value"><i class="sf-clock-o"></i></div>
      <div class="label">{%trans "Class Times"%}<br><kbd class="mT5">Ctrl+Shift+3</kbd></div>
     </div>
    </a>
   </div>
   <div class="c s4">
    <a class="dcard {%if url.child == 'examtime'%}active{%endif%}" href='{{url.this}}/examtime?id={{requestGET.id}}' data-shortkey="52ctrlshift" title='{%trans "set exam times of this festival"%}'>
     <div class="statistic sm">
      <div class="value"><i class="sf-calendar-check-o"></i></div>
      <div class="label">{%trans "Exam Times"%}<br><kbd class="mT5">Ctrl+Shift+4</kbd></div>
     </div>
    </a>
   </div>

   <div class="c s4">
    <a class="dcard {%if dataRow.status == 'draft'%}disabled{%endif%} {%if url.child == 'student'%}active{%endif%}" {%if dataRow.status != 'draft'%} href='{{url.this}}/student?id={{requestGET.id}}{%if requestGET.q%}&q={{requestGET.q}}{%endif%}' data-shortkey="54ctrlshift" title='{%trans "check list of :students in this festival"%}' {%else%}  title='{%trans "Active festival to show list of :students!"%}' {%endif%} >
     <div class="statistic sm">
      <div class="value"><i class="sf-plug"></i></div>
      <div class="label">{%trans ":takenunit"%}<br><kbd class="mT5">Ctrl+Shift+6</kbd></div>
     </div>
    </a>
   </div>


   <div class="c s4">
    <a class="dcard {%if dataRow.status == 'draft'%}disabled{%endif%} {%if url.child == 'score'%}active{%endif%}" {%if dataRow.status != 'draft'%} href='{{url.this}}/score?id={{requestGET.id}}{%if requestGET.q%}&q={{requestGET.q}}{%endif%}' data-shortkey="57ctrlshift" title='{%trans "check score of :students in this festival"%}' {%else%} title='{%trans "Active festival to show list of score!"%}' {%endif%}>
     <div class="statistic sm">
      <div class="value"><i class="sf-medal"></i></div>
      <div class="label">{%trans "Score"%}<br><kbd class="mT5">Ctrl+Shift+7</kbd></div>
     </div>
    </a>
   </div>

  </div>
{%endblock%}


{%block galleryImporter %}
<div class="dropzone">
  <h4>{%trans "Add to gallery"%}</h4>
  <label for='gallery' class="btn light">{%trans "To add image gallery drop file here or"%}</label>
  <input id="gallery" type="file" name="gallery" multiple>
  <div class="progress shadow" data-percent='30'>
    <div class="bar"></div>
    <div class="detail"></div>
  </div>
</div>
{% endblock %}

{%block iGalleryShow%}

{%if dataRow.meta.gallery%}
<div class="cbox">
  <h2>{%trans "Gallery"%}</h2>
  <div class="normal f">

    {% for key, myUrl in dataRow.meta.gallery%}
      <div class="vcard mA10">

        {%if myUrl ends with '.jpg' or myUrl ends with '.png' or myUrl ends with '.gif'%}
        <img src="{{myUrl}}">
        <div class="content"></div>
        {%elseif myUrl ends with '.mp4' %}
        <video>
          <source src="{{myUrl}}" type="video/mp4">
        </video>
        <div class="content"><a href="{{myUrl}}" title='{%trans "Click to download"%}'>{%trans "Video"%}</a></div>
        <div class="content"></div>
        {%elseif myUrl ends with '.mp3' %}
        <audio controls>
          <source src="{{myUrl}}" type="audio/mpeg">
        </audio>
        <div class="content"><a href="{{myUrl}}" title='{%trans "Click to download"%}'>{%trans "MP3"%}</a></div>
        {%elseif myUrl ends with '.pdf' %}
          <div class="content title"><a href="{{myUrl}}" title='{%trans "Click to download"%}'>{%trans "PDF"%}</a></div>
        {%else%}
        <div class="content title"><a href="{{myUrl}}" title='{%trans "Click to download"%}'>{%trans "Without preview"%}</a></div>
        {%endif%}
        <div class="footer f">
          <button class="btn block secondary" data-ajaxify data-data='{"type" : "remove_gallery", "id": "{{key}}"}' data-method='post'>{%trans "Remove"%}</button>
        </div>
      </div>
    {%endfor%}
  </div>
</div>
{%endif%}

{%endblock%}
