{%extends display.cpMain%}


{%block pageContent%}

<div class="f">
  <div class="c5 s12 mRa10">
      <div class="f justify-center">
        <div class="cbox ">
          <form method="post" autocomplete="off">
            {{block ('iThumb') }}
            {{block ('iTitle') }}
            {{block ('iDescription') }}
            {%if url.module == 'donate'%}
              {{block ('iSort') }}
              {{block ('iLinkurl') }}
            {%endif%}
            {{block ('iLanguage') }}
            {{block ('iStatus') }}

            {%if editMode%}
            {{block ('iedit')}}
            {%else%}
            {{block ('iadd')}}
            {%endif%}
          </form>
        </div>
      </div>
  </div>

{%if need%}
  <div class="c s12">

    <div class="f justify-center">
      <div class="cbox">

        <table class="tbl">
          <thead>
            <tr class="fs08">
              <th>{%trans "Picture"%}</th>
              <th>{%trans "Title"%}</th>
                {%if url.module == 'donate'%}
                 <th>{%trans "Sort"%}</th>
                 <th>{%trans "Slug"%}</th>
                {%endif%}
              <th>{%trans "Description"%}</th>
              <th>{%trans "Status"%}</th>
              <th>{%trans "Edit"%}</th>
            </tr>
          </thead>
          <tbody>
            {%for key, value in need%}
              <tr {%if value.status == 'enable'%}{%else%} class="negative" {%endif%}>
                <td><img height="50" width="50" src="{%if value.fileurl%}{{value.fileurl}}{%else%}{{url.site}}/static/siftal/images/default/image.png{%endif%}"></td>
                <td>{{value.title}}</td>
                {%if url.module == 'donate'%}
                 <td>{{value.sort | fitNumber(false)}}</td>
                 <td class="collapsing fs08 txtC">{%if value.linkurl%}<a href="{{url.kingdom}}/donate?nazr={{value.linkurl}}"><i class="sf-link"></i> {{value.linkurl}}</a>{%else%}-{%endif%}</td>
                {%endif%}
                <td>{{value.desc}}</td>
                <td>{%set vStatus = value.status%}{%trans vStatus%}</td>
                <td class="collapsing"><a href="{{url.this}}/options?edit={{value.id}}" ><button class="btn secondary xs">{%trans "Edit"%}</button></a></td>
              </tr>
            {%endfor%}
          </tbody>
        </table>
      </div>
    </div>

  </div>
{%endif%}
</div>


{%endblock%}


{%block iThumb%}
<div class="input preview">
 <input type="file" accept="image/gif, image/jpeg, image/png" name="thumb" id="fthumb" data-preview data-max="500">
 <label for="fthumb" title='{%trans "allowed extentions jpg, png (gif for bussiness plans). Max 500Kb"%}'>
{%if productDetail.fileurl%}
  <img src="{{productDetail.fileurl}}" alt="{{productDetail.title}}" id="logoPreview">
{%endif%}
 </label>
</div>
{%endblock%}




{%block iadd%}
<button class="btn primary block mT25">{%trans "Add"%}</button>
{%endblock%}

{%block iedit%}
<button class="btn primary block mT25">{%trans "Edit"%}</button>
{%endblock%}





{%block iLanguage%}
<label for="language">{%trans "Language"%}</label>
<select name="language" class="select">
  <option value=""><i>{%trans "Please select one item"%}</i></option>
  {%for key, value in lang.list%}
    {%if key | length == 2%}
    <option value="{{key}}" {%if productDetail.lang == key or (not productDetail and lang.current == key) %} selected {%endif%}>{{value}}</option>
    {%endif%}
  {%endfor%}
</select>
{%endblock%}



{%block iTitle%}
<label for='ftitle'>{%trans "Title"%}</label>
<div class="input">
 <input type="text" name="title" placeholder='{%trans "Title"%}' value="{{productDetail.title}}" autofocus  maxlength='50' minlength="1" pattern=".{1,50}" title='{%trans "Enter a valid title"%}' id='ftitle'>
</div>
{%endblock%}

{%block iLinkurl%}
<label for='slug'>{%trans "Slug"%}</label>
<div class="input">
 <input type="text" name="linkurl" placeholder='{%trans "Slug"%}' value="{{productDetail.linkurl}}" autofocus  maxlength='50' minlength="1" pattern=".{1,50}" id='slug'>
</div>
{%endblock%}



{%block iDescription%}
<label for='fdesc'>{%trans "Description"%}</label>
<textarea class="txt mB5" name="desc" rows="3" placeholder='{%trans "Description"%}' id='fdesc'>{{productDetail.desc}}</textarea>

{%endblock%}


{%block iCount%}
<label for='fcount'>{%trans "Count"%}</label>
<div class="input">
 <input type="number" name="count" placeholder='{%trans "Count"%}' value="{{productDetail.request}}" maxlength='50' minlength="1" pattern=".{1,50}" title='{%trans "Enter a valid count"%}' id='fcount'>
</div>
{%endblock%}


{%block iStatus%}
<div class="switch1 mT10">
    <input type="checkbox" name="status" id="switch12" {%if productDetail.status == 'enable' or not productDetail %} checked {%endif%}>
    <label for="switch12" data-on='{%trans "Active"%}' data-off='{%trans "Deactive"%}'></label>
    <label for="switch12">{%trans "Status"%}</label>
   </div>
{%endblock%}







{%block iAmount%}
<label for='famount'>{%trans "Amount"%}</label>
<div class="input">
 <input type="number" name="amount" placeholder='{%trans "Amount"%}' value="{{productDetail.amount}}"  maxlength='50' minlength="1" pattern=".{1,50}" title='{%trans "Enter a valid amount"%}' id='famount'>
</div>
{%endblock%}



{%block iSort%}
<label for='isort'>{%trans "Sort"%}</label>
<div class="input">
 <input type="number" name="sort" placeholder='{%trans "Sort"%}' value="{{productDetail.sort}}"  maxlength='50' minlength="1" pattern=".{1,50}" title='{%trans "Enter a valid sort"%}' id='isort'>
</div>
{%endblock%}

