{%extends display.khadijeCpMain%}

{%block pageContent%}
<div class="cbox">
 {%if not travel_detail[travel_detail.place] %}
 <span class="sf-check fc-green"></span>
{%else%}
<span class="badge warn ">
  <i class="sf-cross"></i>
  {{travel_detail[travel_detail.place]| fitNumber}}
</span>

{%endif%}
  <div class="f">
    <div class="c2 msg mLa5">{%trans "First name" %}:    <small> {{travel_detail.firstname}} </small> </div>
    <div class="c2 msg mLa5">{%trans "Mobile" %}:       <small> {{travel_detail.mobile}} </small> </div>
    <div class="c2 msg mLa5">{%trans "Birthday" %}:     <small> {{travel_detail.birthday}} </small> </div>
    <div class="c2 msg mLa5">{%trans "Province" %}:     <small> {{travel_detail.province}} </small> </div>
  </div>

  <div class="f">
    <div class="c2 msg mLa5">{%trans "Married" %}:      <small> {{travel_detail.married}} </small> </div>
    <div class="c2 msg mLa5">{%trans "City" %}:         <small> {{travel_detail.city}} </small> </div>
    <div class="c2 msg mLa5">{%trans "Gender" %}:       <small> {{travel_detail.gender}} </small> </div>
    <div class="c2 msg mLa5">{%trans "Father" %}:       <small> {{travel_detail.father}} </small> </div>
  </div>

  <div class="f">
    <div class="c2 msg mLa5">{%trans "Last name" %}:     <small> {{travel_detail.lastname}} </small> </div>
    <div class="c2 msg mLa5">{%trans "Nationalcode" %}: <small> {{travel_detail.nationalcode}} </small> </div>
    <div class="c2 msg mLa5">{%trans "Place" %}:        <small> {{travel_detail.place}} </small> </div>
    <div class="c2 msg mLa5">{%trans "Start date" %}:    <small> {{travel_detail.startdate}} </small> </div>
  </div>

  <div class="f">
    <div class="c2 msg mLa5">{%trans "Enddate" %}:      <small> {{travel_detail.enddate}} </small> </div>
    <div class="c2 msg mLa5">{%trans "Type" %}:         <small> {{travel_detail.type}} </small> </div>
    <div class="c2 msg mLa5">{%trans "Status" %}:       <small> {{travel_detail.status}} </small> </div>
    <div class="c2 msg mLa5">{%trans "Date created" %}:  <small> {{travel_detail.datecreated}} </small> </div>
  </div>

  <form method="post">
    <input type="hidden" name="edit_travel" value="edit_travel">
    {{block ('istartdate') }}
    {{block ('ienddate') }}
    {{block ('iDescription') }}
  </form>

</div>


<div class="f">
 <div class="c3 s12 pRa10">
{{block ('partnertForm') }}
  </div>
  <div class="c9 s12">
{{block ('partnertList') }}
{{block ('nextForm') }}
  </div>
 </div>
{%endblock%}


{%block partnertForm%}
    <form method="post" class="cbox">
{{block ('iname') }}
{{block ('ifamily') }}
{{block ('ibirthday') }}
{{block ('ifather') }}
{{block ('iNesbat') }}
{{block ('incode') }}
{{block ('igender') }}
{{block ('iMarried') }}

{%if edit_mode%}
  <input type="hidden" name="edit_child" value="edit_child">
  {{block ('iEdit') }}
{%else%}
  <input type="hidden" name="save_child" value="save_child">
  {{block ('iAdd') }}
{%endif%}
    </form>

{%endblock%}


{%block partnertList%}
  <div class="cbox">
    <h3>{%trans "List of trip partner"%}</h3>

{%if travel_partner%}
    <div class="f">
{%for key, value in travel_partner%}
{% set CountTravel = value[travel_detail.place] %}
     <div class="c4 s12">
      <div class="vcard mA5">
        <div class="content f">
          <div class="c">
            <div class="header">
              <small>{{value.firstname}}</small> {{value.lastname}}
              {%if not CountTravel%}
                <span class="sf-check fc-green"></span>
              {%else%}
              <span class="badge warn ">
                <i class="sf-cross"></i>
                {{CountTravel| fitNumber}}
              </span>

              {%endif%}

            </div>
            <div class="meta"><span>{{value.nationalcode | fitNumber}}</span></div>
          </div>
          <div class="cauto">
{%if value.gender == 'female'%}
            <img src="{{url.static}}siftal/images/avatar/woman.png" class="mini">
{%else%}
            <img src="{{url.static}}siftal/images/avatar/man.png" class="mini">
{%endif%}
          </div>
          <div class="desc c12">
           <span class="badge info">{{value.nesbat}}</span>
           <span class="badge">{%set marryStatus = value.married | capitalize%}{%trans marryStatus%}</span>
           <span class="badge success">{{value.birthday | fitNumber}}</span>
           <span class="badge" title='{%trans "Child"%}'>{{value.father}}</span>

          </div>
        </div>
        <div class="footer f pAn">
            {%if edit_mode%}
              <div class="c"></div>
            {%else%}
              <a href="{{url.baseFull}}/trip/view?id={{utilityGET.id}}&partner={{value.id}}" class="btn primary c mRa5 " >{%trans "Edit"%}</a>
            {%endif%}
            <a href="{{url.full |raw}}" class="btn danger cauto" data-ajaxify data-method="post" data-data='{"key": "{{value.id}}", "type":"remove"}'>{%trans "Remove"%}</a>
        </div>
      </div>
     </div>
{%endfor%}
    </div>
{%else%}
   <p class="alert alert-alert txtC">{%trans "No partner set"%}</p>
{%endif%}
  </div>

{%endblock%}


{%block nextForm%}
    <form method="post" class="cbox">
      <input type="hidden" name="next" value="next">
      {{block ('inext') }}
    </form>
{%endblock%}



{%block iname%}
<label for="name">{%trans "Name"%} <small class="fc-red">* {%trans "Require"%}</small></label>
<div class="input">
  <input type="text" name="name" id="name" placeholder='{%trans "Name"%} *' value="{{partner_detail.firstname}}" autofocus maxlength='40' minlength="2" pattern=".{2,40}" title='{%trans "Enter a valid name from 2 to 40 character"%}' required>
</div>
{%endblock%}


{%block ifamily%}
<label for="lastName">{%trans "Last name"%} <small class="fc-red">* {%trans "Require"%}</small></label>
<div class="input">
  <input type="text" name="lastName" id="lastName" placeholder='{%trans "Last name"%} *' value="{{partner_detail.lastname}}" maxlength='40' minlength="2" pattern=".{1,40}" title='{%trans "Enter a valid last name from 2 to 40 character"%}' required>
</div>
{%endblock%}




{%block imobile%}
<label for="mobile">{%trans "Mobile"%}</label>
<div class="input">
  <input type="text" readonly id="mobile" placeholder='{%trans "Like 09120123456"%}' value="{{partner_detail.mobile}}" maxlength='30'>
</div>
{%endblock%}


{%block incode%}
<label for="nationalcode">{%trans "National code"%}  <small class="fc-red">* {%trans "Require"%}</small></label>
<div class="input">
  <input type="tel" name="nationalcode" id="nationalcode" placeholder='{%trans "10 digit national code"%} *' value="{{partner_detail.nationalcode}}" min=0 max=9999999999 required>
</div>
{%endblock%}


{%block ifather%}
<label for="father">{%trans "Father name"%}</label>
<div class="input">
  <input type="text" name="father" id="father" placeholder='{%trans "Father name"%}' value="{{partner_detail.father}}" maxlength='50'>
</div>
{%endblock%}


{%block ibirthday%}
<label for="birthday">{%trans "Birthday"%}</label>
<div class="input">
  <input class="datepicker" type="text" name="birthday" id="birthday" placeholder='{{"1369/04/15" | fitNumber}}' value="{{partner_detail.birthday}}" maxlength='20' data-format="YYYY/MM/DD" data-initialValue='false' data-view="year">
</div>
{%endblock%}


{%block igender%}
<div class="switch1 gender">
 <input type="checkbox" name="gender" id="gender" {%if userdetail.gender == 'female' %}checked{%endif%}>
 <label for="gender" ></label>
 <label for="gender">{%trans "Gender"%}</label>
</div>
{%endblock%}


{%block iMarried%}
<div class="switch1">
 <input type="checkbox" name="Married" id="Married" {%if userdetail.married == 'married' %}checked{%endif%}>
 <label for="Married"  data-on='{%trans "Married"%}' data-off='{%trans "Single"%}'></label>
 <label for="Married">{%trans "Marital"%}</label>
</div>

{%endblock%}

{%block iArabicLang%}
<div class="switch1 pA5">
 <input type="checkbox" name="ArabicLang" id="ArabicLang" {%if userdetail.arabiclang == 'yes' %}checked{%endif%}>
 <label for="ArabicLang"  data-on='{%trans "Yes"%}' data-off='{%trans "No"%}'></label>
 <label for="ArabicLang">{%trans "Arabic Language"%}</label>
</div>

{%endblock%}



{%block iNesbat%}
<label for='nesbat'>{%trans "Nesbat"%}</label>
<div class="input">
 <input type='text' class="awesomplete" name='nesbat' id='nesbat' data-minchars="1"  value="{{partner_detail.nesbat}}" />
</div>
{%endblock%}


{%block icountry%}
<label for='country'>{%trans "Country"%}</label>
<div class="input">
 <input type='text' class="awesomplete" name='country' id='country' data-minchars="1" data-autofirst data-list="{{country_list}}" value="{{partner_detail.country}}" />
</div>
{%endblock%}


{%block iprovince%}
<label for='province'>{%trans "Province"%}</label>
<div class="input">
 <input type='text' class="awesomplete" name='province' id='province' data-minchars="1" data-autofirst data-list="{{provice_list}}" value="{{partner_detail.province}}" />
</div>
{%endblock%}


{%block icity%}
<label for='city'>{%trans "City"%}</label>
<div class="input">
 <input type='text' class="awesomplete" name='city' id='city' data-minchars="1" data-autofirst data-list="{{city_list}}" value="{{partner_detail.city}}" />
</div>
{%endblock%}


{%block izipcode%}
<label for='zipcode'>{%trans "Zip code"%}</label>
<div class="input">
 <input type='tel' name='zipcode' id='zipcode' min="0" max="9999999999" value="{{partner_detail.zipcode}}"/>
</div>
{%endblock%}




{%block ipassport%}
<label for='passport'>{%trans "Passport id"%}</label>
<div class="input ltr">
 <input type="text" name='passport' id='passport' value="{{partner_detail.pasportcode}}" />
</div>
{%endblock%}


{%block ipassportexpire%}
<label for='passportexpire'>{%trans "Passport expire date"%}</label>
<div class="input">
  <input class="datepicker" type="text" name="passportexpire" id="passportexpire" placeholder='{{"1397/03/30" | fitNumber}}' value="{{partner_detail.pasportdate}}" maxlength='20' data-format="YYYY/MM/DD" data-initialValue='false' data-view="year">
</div>
{%endblock%}



{%block iHomeAddress%}
<label for='fhomeaddress'>{%trans "Home Address"%}</label>
<textarea name="homeaddress" rows="3" placeholder='{%trans "Home Address"%}' class="txt" id="fhomeaddress">{{userdetail.homeaddress}}</textarea>
{%endblock%}

{%block iWorkAddress%}
<label for='fworkaddress'>{%trans "Work Address"%}</label>
<textarea name="workaddress" rows="3" placeholder='{%trans "Work Address"%}' class="txt" id="fworkaddress">{{userdetail.workaddress}}</textarea>
{%endblock%}



{%block iDescription%}
<label for='fdesc'>{%trans "Description"%}</label>
<textarea name="desc" rows="3" placeholder='{%trans "Description"%}' class="txt" id="fdesc">{{userdetail.desc}}</textarea>
{%endblock%}




{%block istartdate%}
<label for='startdate'>{%trans "Start date"%}</label>
<div class="input">
  <input class="datepicker" type="text" name="startdate" id="startdate" placeholder='{{"1397/03/30" | fitNumber}}' value="{{travel_detail.startdate}}" maxlength='20' data-format="YYYY/MM/DD" data-initialValue='false' data-view="year">
</div>
{%endblock%}



{%block ienddate%}
<label for='enddate'>{%trans "End date"%}</label>
<div class="input">
  <input class="datepicker" type="text" name="enddate" id="enddate" placeholder='{{"1397/03/30" | fitNumber}}' value="{{travel_detail.enddate}}" maxlength='20' data-format="YYYY/MM/DD" data-initialValue='false' data-view="year">
</div>
{%endblock%}



{%block iPhone%}
<label for="phone">{%trans "Phone"%}</label>
<div class="input">
  <input type="tel" name="phone" id="phone" placeholder='{%trans "Like"%} 025 3650 5281' value="{{partner_detail.phone}}" maxlength='50'>
</div>
{%endblock%}



{%block iEmail%}
<label for="email">{%trans "Email"%}</label>
<div class="input">
  <input type="email" name="email" id="email" placeholder='{%trans "Like"%} abc@example.com' value="{{partner_detail.email}}" maxlength='50'>
</div>
{%endblock%}


{%block iAvatar%}
<div class="input preview">
 <input type="file" accept="image/gif, image/jpeg, image/png" name="avatar" id="avatar1" data-preview data-max="500">
 <label for="avatar1" title="Simple Title">

 </label>
</div>
{%endblock%}


{%block iNationalthumb%}
<div class="input preview">
 <input type="file" accept="image/gif, image/jpeg, image/png" name="nationalthumb" id="nationalthumb" data-preview data-max="500">
 <label for="nationalthumb" title="Simple Title">
    {%if userdetail.nationalthumb%}<img src="{{userdetail.nationalthumb}}">{%endif%}
 </label>
</div>
{%endblock%}


{%block iShthumb%}
<div class="input preview">
 <input type="file" accept="image/gif, image/jpeg, image/png" name="shthumb" id="shthumb" data-preview data-max="500">
 <label for="shthumb" title="Simple Title">
    {%if userdetail.shthumb%}<img src="{{userdetail.shthumb}}">{%endif%}
 </label>
</div>
{%endblock%}



{%block iEducation%}
<label for="feducation">{%trans "Education"%}</label>
<div class="input">
  <input type="text" name="education" id="feducation" placeholder='{%trans "Education"%}' value="{{partner_detail.education}}" maxlength='50'>
</div>
{%endblock%}



{%block iEducationCourse%}
<label for="feducationcourse">{%trans "Education course"%}</label>
<div class="input">
  <input type="text" name="educationcourse" id="feducationcourse" placeholder='{%trans "Education course"%}' value="{{partner_detail.education}}" maxlength='50'>
</div>
{%endblock%}



{%block iJob%}
<label for="fjob">{%trans "Job"%}</label>
<div class="input">
  <input type="text" name="job" id="fjob" placeholder='{%trans "Job"%}' value="{{partner_detail.job}}" maxlength='50'>
</div>
{%endblock%}



{%block iAdd%}
<button class="btn primary block mT20">{%trans "Add as new partner"%}</button>
{%endblock%}


{%block iEdit%}
<button class="btn primary block mT20">{%trans "Edit partner"%}</button>
{%endblock%}



{%block inext%}
<button class="btn success block ">{%trans "Final register in trip request"%}</button>
{%endblock%}


{%block iremove%}
<input type="hidden" name="remove" value="{{utilityGET.edit}}">
<button class="btn danger block mT20">{%trans "Remove"%}</button>
{%endblock%}




